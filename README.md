# TaskBoardScriptlet
Problem: Our distributed team wanted to see a Task Board based on our JIRA tickets.  Due to circumstances beyond our control, it was not possible to install the Agile plug in to our JIRA instance.

Solution:  Create a JavaScript bookmarklet that will examine the JIRA tasklist on screen and create a stacked column chart broken down across comon categories with each block in the column representing a single JIRA ticket.

Hotw to Install: Drag this link to your bookmark bar:  <a href="javascript:void%20function(){function%20e(){var%20e=jQuery(%22%23issuetable%22).first(),r=[];categories=[%22NotReady%22,%22ReadyForDev%22,%22PeerReview%22,%22QA%22,%22Done%22],series=[],ASSIGNED=0,UNASSIGNED=1,COLORS=[[205,82,217],[109,179,50],[118,108,204],[196,146,58],[185,81,166],[211,73,115],[77,162,150],[213,75,51],[117,159,209],[151,81,55],[77,87,122],[76,94,43],[201,138,176],[126,59,93],[205,82,217],[109,179,50],[118,108,204],[196,146,58],[185,81,166],[103,163,88],[211,73,115],[77,162,150],[213,75,51],[117,159,209],[151,81,55],[77,87,122],[76,94,43],[201,138,176],[126,59,93]],rows=jQuery(e).find(%22tr.issuerow%22),report=[],jQuery.each(rows,function(e,t){var%20s={};s.summary=jQuery(t).find(%22.summary%22).text().trim(),s.status=jQuery(t).find(%22.status%22).text().trim(),s.assignee=jQuery(t).find(%22.assignee%22).text().trim(),s.timeoriginalestimate=jQuery(t).find(%22.timeoriginalestimate%22).text().trim(),s.issuekey=jQuery(t).find(%22.issuekey%22).text().trim(),report.push(s)}),buckets={},buckets.NotReady=[],buckets.ReadyForDev=[],buckets.PeerReview=[],buckets.QA=[],buckets.Done=[],stati=[],jQuery.each(report,function(e,i){switch(stati.push(i.status),i=s(i),i.status){case%22Open%22:case%22Ready%20for%20Development%22:case%22Development%20in%20Progress%22:t(i,buckets,%22ReadyForDev%22,series,r);break;case%22Ready%20for%20Code%20Review%22:case%22Code%20Review%20in%20Progress%22:t(i,buckets,%22PeerReview%22,series,r);break;case%22Ready%20for%20QA%20Review%22:case%22QA%20Review%20in%20Progress%22:t(i,buckets,%22QA%22,series,r);break;case%22Ready%20for%20Security%20Audit%22:t(i,buckets,%22Done%22,series,r),buckets.Done.push(i);break;default:t(i,buckets,%22NotReady%22,series,r)}}),i(categories,series)}function%20t(e,t,s,i,a){-1==_.indexOf(a,e.assignee)%26%26a.push(e.assignee);var%20n=COLORS[_.indexOf(a,e.assignee)],u=o(n[0],n[1],n[2]);t[s].push(e);var%20c=%22unassigned%22==e.assignee.toLowerCase()%3F%22unassigned%22:%22assigned%22,d=[0,0,0,0,0];d[_.indexOf(categories,s)]+=r(e.timeoriginalestimate),i.push({name:e.summary,data:d,stack:c,assignee:e.assignee,status:e.status,issuekey:e.issuekey,color:u})}function%20s(e){var%20t=e.assignee.toLowerCase();return(t.indexOf(%22jose%22)%3E-1||t.indexOf(%22tsitsi%22)%3E-1)%26%26(e.status=%22Assigned%20to%20a%20Non-Developer%22),e}function%20r(e){return%20parseInt(e)}function%20i(e,t){jQuery(%22body%22).prepend(%22%3Cdiv%20id='report'%3E%3C/div%3E%22),jQuery(%22div%23report%22).highcharts({chart:{type:%22column%22},title:{text:%22Agile%20Task%20Board%22},xAxis:{categories:e},yAxis:{min:0,title:{text:%22Number%20of%20Hours%22},stackLabels:{enabled:!0,style:{fontWeight:%22bold%22,color:Highcharts.theme%26%26Highcharts.theme.textColor||%22gray%22}}},legend:{enabled:!1},tooltip:{headerFormat:%22%3Cb%3E{point.x}%3C/b%3E%3Cbr/%3E%22,formatter:function(){return%22Title:%3Cb%3E%22+this.series.name+%22%3C/b%3E%3Cbr/%3ETicket%23:%20%22+t[this.series._i].issuekey+%22%3Cbr/%3EAssigned:%20%22+t[this.series._i].assignee+%22%3Cbr%3EStatus:%20%22+t[this.series._i].status}},plotOptions:{column:{stacking:%22normal%22,dataLabels:{enabled:!0,color:Highcharts.theme%26%26Highcharts.theme.dataLabelsColor||%22white%22,style:{textShadow:%220%200%203px%20black%22}}},series:{cursor:%22pointer%22,stacking:%22normal%22,events:{click:function(){window.open(%22/jira/browse/%22+this.options.issuekey,%22_blank%22)}}}},series:t})}function%20a(e){var%20t=e.toString(16);return%201==t.length%3F%220%22+t:t}function%20o(e,t,s){return%22%23%22+a(e)+a(t)+a(s)}function%20n(){var%20e='jQuery(%22div%23report%22).remove();%20jQuery(%22a%23report%22).remove();%20';jQuery(%22div%23report%22).after(%22%3Cdiv%3E%3Ca%20id='report'%20onClick='%22+e+%22'%3EClose%20Task%20Board%3C/a%3E%3C/div%3E%22),e='var%20height%20=%20jQuery(%22div%23report%22).height()%20+%20200;%20jQuery(%22div%23report%22).height(height);%20setTimeout%20(function()%20{var%20chart%20=%20jQuery(%22div%23report%22).highcharts();%20chart.reflow();},%20100);',jQuery(%22div%23report%22).after(%22%3Cdiv%3E%3Ca%20id='report'%20onClick='%22+e+%22'%3EEnlarge%20Task%20Board%3C/a%3E%3C/div%3E%22)}jQuery.getScript(%22https://code.highcharts.com/highcharts.js%22,function(){jQuery.getScript(%22https://code.highcharts.com/modules/exporting.js%22,function(){jQuery.getScript(%22https://code.highcharts.com/modules/offline-exporting.js%22,function(){e(),n()})})})}();" >JIRA TaskBoard </a>


The full bookmarklet is here:
javascript:void%20function(){function%20e(){var%20e=jQuery(%22%23issuetable%22).first(),r=[];categories=[%22NotReady%22,%22ReadyForDev%22,%22PeerReview%22,%22QA%22,%22Done%22],series=[],ASSIGNED=0,UNASSIGNED=1,COLORS=[[205,82,217],[109,179,50],[118,108,204],[196,146,58],[185,81,166],[211,73,115],[77,162,150],[213,75,51],[117,159,209],[151,81,55],[77,87,122],[76,94,43],[201,138,176],[126,59,93],[205,82,217],[109,179,50],[118,108,204],[196,146,58],[185,81,166],[103,163,88],[211,73,115],[77,162,150],[213,75,51],[117,159,209],[151,81,55],[77,87,122],[76,94,43],[201,138,176],[126,59,93]],rows=jQuery(e).find(%22tr.issuerow%22),report=[],jQuery.each(rows,function(e,t){var%20s={};s.summary=jQuery(t).find(%22.summary%22).text().trim(),s.status=jQuery(t).find(%22.status%22).text().trim(),s.assignee=jQuery(t).find(%22.assignee%22).text().trim(),s.timeoriginalestimate=jQuery(t).find(%22.timeoriginalestimate%22).text().trim(),s.issuekey=jQuery(t).find(%22.issuekey%22).text().trim(),report.push(s)}),buckets={},buckets.NotReady=[],buckets.ReadyForDev=[],buckets.PeerReview=[],buckets.QA=[],buckets.Done=[],stati=[],jQuery.each(report,function(e,i){switch(stati.push(i.status),i=s(i),i.status){case%22Open%22:case%22Ready%20for%20Development%22:case%22Development%20in%20Progress%22:t(i,buckets,%22ReadyForDev%22,series,r);break;case%22Ready%20for%20Code%20Review%22:case%22Code%20Review%20in%20Progress%22:t(i,buckets,%22PeerReview%22,series,r);break;case%22Ready%20for%20QA%20Review%22:case%22QA%20Review%20in%20Progress%22:t(i,buckets,%22QA%22,series,r);break;case%22Ready%20for%20Security%20Audit%22:t(i,buckets,%22Done%22,series,r),buckets.Done.push(i);break;default:t(i,buckets,%22NotReady%22,series,r)}}),i(categories,series)}function%20t(e,t,s,i,a){-1==_.indexOf(a,e.assignee)%26%26a.push(e.assignee);var%20n=COLORS[_.indexOf(a,e.assignee)],u=o(n[0],n[1],n[2]);t[s].push(e);var%20c=%22unassigned%22==e.assignee.toLowerCase()%3F%22unassigned%22:%22assigned%22,d=[0,0,0,0,0];d[_.indexOf(categories,s)]+=r(e.timeoriginalestimate),i.push({name:e.summary,data:d,stack:c,assignee:e.assignee,status:e.status,issuekey:e.issuekey,color:u})}function%20s(e){var%20t=e.assignee.toLowerCase();return(t.indexOf(%22jose%22)%3E-1||t.indexOf(%22tsitsi%22)%3E-1)%26%26(e.status=%22Assigned%20to%20a%20Non-Developer%22),e}function%20r(e){return%20parseInt(e)}function%20i(e,t){jQuery(%22body%22).prepend(%22%3Cdiv%20id='report'%3E%3C/div%3E%22),jQuery(%22div%23report%22).highcharts({chart:{type:%22column%22},title:{text:%22Agile%20Task%20Board%22},xAxis:{categories:e},yAxis:{min:0,title:{text:%22Number%20of%20Hours%22},stackLabels:{enabled:!0,style:{fontWeight:%22bold%22,color:Highcharts.theme%26%26Highcharts.theme.textColor||%22gray%22}}},legend:{enabled:!1},tooltip:{headerFormat:%22%3Cb%3E{point.x}%3C/b%3E%3Cbr/%3E%22,formatter:function(){return%22Title:%3Cb%3E%22+this.series.name+%22%3C/b%3E%3Cbr/%3ETicket%23:%20%22+t[this.series._i].issuekey+%22%3Cbr/%3EAssigned:%20%22+t[this.series._i].assignee+%22%3Cbr%3EStatus:%20%22+t[this.series._i].status}},plotOptions:{column:{stacking:%22normal%22,dataLabels:{enabled:!0,color:Highcharts.theme%26%26Highcharts.theme.dataLabelsColor||%22white%22,style:{textShadow:%220%200%203px%20black%22}}},series:{cursor:%22pointer%22,stacking:%22normal%22,events:{click:function(){window.open(%22/jira/browse/%22+this.options.issuekey,%22_blank%22)}}}},series:t})}function%20a(e){var%20t=e.toString(16);return%201==t.length%3F%220%22+t:t}function%20o(e,t,s){return%22%23%22+a(e)+a(t)+a(s)}function%20n(){var%20e='jQuery(%22div%23report%22).remove();%20jQuery(%22a%23report%22).remove();%20';jQuery(%22div%23report%22).after(%22%3Cdiv%3E%3Ca%20id='report'%20onClick='%22+e+%22'%3EClose%20Task%20Board%3C/a%3E%3C/div%3E%22),e='var%20height%20=%20jQuery(%22div%23report%22).height()%20+%20200;%20jQuery(%22div%23report%22).height(height);%20setTimeout%20(function()%20{var%20chart%20=%20jQuery(%22div%23report%22).highcharts();%20chart.reflow();},%20100);',jQuery(%22div%23report%22).after(%22%3Cdiv%3E%3Ca%20id='report'%20onClick='%22+e+%22'%3EEnlarge%20Task%20Board%3C/a%3E%3C/div%3E%22)}jQuery.getScript(%22https://code.highcharts.com/highcharts.js%22,function(){jQuery.getScript(%22https://code.highcharts.com/modules/exporting.js%22,function(){jQuery.getScript(%22https://code.highcharts.com/modules/offline-exporting.js%22,function(){e(),n()})})})}();
